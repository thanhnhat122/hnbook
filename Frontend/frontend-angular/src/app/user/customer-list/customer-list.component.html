<div class="container">
  <h2 class="text-center">Danh sách khách hàng</h2>

  <table class = "table table-striped table-hover">
    <thead>
        <tr>
            <th> Email </th>
            <th> Tên </th>
            <th> Họ </th>
            <th> Quyền </th>
            <th> Điện thoại </th>
            <th> Chức năng </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor = "let user of users">
            <td> {{ user.email }} </td>
            <td> {{ user.firstName}} </td>
            <td> {{ user.lastName }} </td>
            <td> Khách hàng </td>
            <td> {{ user.phone}} </td>
            <!-- <td>
              <div class="btn-group">
                <button (click)="userDetail(user.email)"  class = "btn btn-info" style = "margin-left: 10px"> Xem </button>
                <button (click)="updateUser(user.email)" class = "btn btn-warning" style = "margin-left: 10px"> Cập nhật </button>
                <button (click)="deleteUser(user.email)" class = "btn btn-danger" style = "margin-left: 10px"> Xóa </button>
              </div>
            </td> -->
            <td style="width: 20%;">
              <a  class="table-link" data-bs-toggle="modal" data-bs-target="#updateCustomer">
                <span class="fa-stack">
                  <i class="fa fa-square fa-stack-2x"></i>
                  <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              <div class="modal fade" id="updateCustomer" tabindex="-1" aria-labelledby="rateModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="rateModalLabel"> Cập nhật khách hàng</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                          <form >
                            <div class="row">
                              <div class="col-md-12 mb-3">
                                <div class="form-outline">
                                  <!-- <input type="text" class="form-control" [(ngModel)] = "user.email" name="email" id="email" placeholder="Nhập email"> -->
                                  <input type="text" class="form-control" value="{{user.email}}" readonly>
                                </div>
                              </div>

                            </div>

                            <div class="row">
                              <div class="col-md-6 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.lastName" name="lastName" id="lastName" placeholder="Họ">
                                </div>
                              </div>

                              <div class="col-md-6 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.firstName" name="firstName" id="firstName" placeholder="Tên">
                                </div>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-md-12 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.address" name="address" id="address" placeholder="Nhập địa chỉ">
                                </div>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-md-12 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.province" name="province" id="province" placeholder="Nhập tỉnh / thành phố">
                                </div>
                              </div>
                            </div>

                            <div class="row">
                              <div class="col-md-12 mb-3">
                                <div class="form-outline">
                                  <input type="text" class="form-control" [(ngModel)] = "user.phone" name="phone" id="phone" placeholder="Nhập số điện thoại">
                                </div>
                              </div>
                            </div>

                          </form>

                        </div>
                        <div class="modal-footer justify-content-center">
                            <button (click)="updateCustomer(user.email,user)" type="button" class="btn btn-primary"
                                style="width: 180px" data-bs-dismiss="modal"> Cập nhật </button>
                            <button type="button" class="btn btn-secondary" style="width: 180px"
                                data-bs-dismiss="modal"> Đóng </button>
                        </div>
                    </div>
                </div>
              </div>
              <a class="table-link danger" data-bs-toggle="modal" data-bs-target="#deleteCustomer">
                <span class="fa-stack">
                  <i class="fa fa-square fa-stack-2x"></i>
                  <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              <div class="modal fade" id="deleteCustomer" tabindex="-1" aria-labelledby="rateModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="rateModalLabel"> Bạn có muốn xóa tài khoản này ?</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"
                                aria-label="Close"></button>
                        </div>
                        <div class="modal-footer justify-content-center">
                            <button (click)="deleteUser(user.email)" type="button" class="btn btn-danger"
                                style="width: 180px" data-bs-dismiss="modal"> Xóa </button>
                            <button type="button" class="btn btn-secondary" style="width: 180px"
                                data-bs-dismiss="modal"> Đóng </button>
                        </div>
                    </div>
                </div>
              </div>
              </td>
        </tr>
    </tbody>
  </table>
</div>




